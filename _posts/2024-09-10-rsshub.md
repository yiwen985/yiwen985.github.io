---
layout: post
title: rsshub及阅读器部署
date: 2024-09-10 19:20 +0800
categories: 技术
excerpt: 可部署在国内
---

## rsshub 部署

[使用指南](https://docs.rsshub.app/zh/routes/social-media)
[配置](https://docs.rsshub.app/zh/deploy/config)

rsshub-docker-compose 下载：[rsshub-docker-compose.yml](/download_files/rsshub-docker-compose.yml)

```yml
# 需要修改
environment:
    # PROXY_URI: 'http://localhost:10809' # 配置代理
    BILIBILI_COOKIE_{uid}: ''
    TWITTER_USERNAME: ''
    TWITTER_PASSWORD: ''
    TWITTER_AUTH_TOKEN: ''
    WEIBO_COOKIES: ''
```

访问：服务器ip:1200

## miniflux 阅读器部署

miniflux-docker-compose 下载：[miniflux-docker-compose.yml](/download_files/miniflux-docker-compose.yml)

```yml
# 需要修改
environment:
    - ADMIN_USERNAME=<用户名>
    - ADMIN_PASSWORD=<密码>
    - PORT=12345
```

访问：服务器ip:12345

可设置：语言、文章排序（新→旧）、推送 telegram bot（设置 - 集成 - Telegram Bot）

> 集成 telegram：
> 1. https://t.me/BotFather 新建机器人，获取令牌
> 2. https://t.me/getidsbot 获取聊天ID

## 订阅

### rsshub 扩展添加源

![](/img/rsshub_extension.png)

### miniflux 添加源

- 微博：http://127.0.0.1:1200/weibo/user/3966075666
- ~~知乎：http://127.0.0.1:1200/zhihu/people/activities/ddaa117~~
- 推特：http://127.0.0.1:1200/twitter/user/rinchan_nanoda
- 油管：http://127.0.0.1:1200/youtube/community/@bulianglin
- 哔哩哔哩：http://192.168.254.100:1200/bilibili/user/dynamic/53456

## 内存占用

```txt
NAME                    MEM USAGE / LIMIT   
miniflux_miniflux_1     32.09MiB / 3.79GiB  
miniflux_db_1           38.76MiB / 3.79GiB  
rsshub_rsshub_1         266MiB / 3.79GiB    
rsshub_browserless_1    93.28MiB / 3.79GiB  
rsshub_redis_1          8.977MiB / 3.79GiB  
```

## 配置 docker 容器走代理

```shell
root@debian:~# cat .docker/config.json 
{
  "proxies": {
    "default": {
      "httpProxy": "http://127.0.0.1:10809",
      "httpsProxy": "http://127.0.0.1:10809",
      "noProxy": "*.example.com"
    }
  }
}
```